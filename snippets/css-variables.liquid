{% style %}
  {% # Load primary font variants with display: swap %}
  {{ settings.type_primary_font | font_face: font_display: 'swap' }}
  {{ settings.type_primary_font | font_modify: 'weight', 'bold' | font_face: font_display: 'swap' }}
  {{ settings.type_primary_font | font_modify: 'weight', 'bold' | font_modify: 'style', 'italic' | font_face: font_display: 'swap' }}
  {{ settings.type_primary_font | font_modify: 'style', 'italic' | font_face: font_display: 'swap' }}

  :root {
    /* ============================================
       HYPEHEAT DESIGN TOKEN SYSTEM
       ============================================ */

    /* --- Page Layout --- */
    --sidebar-width: 280px;
    --page-width: {{ settings.max_page_width | default: '90rem' }};
    --page-margin: {{ settings.min_page_margin | default: 20 }}px;
    --narrow-content-width: 36rem;
    --normal-content-width: 42rem;
    --wide-content-width: 46rem;

    /* --- Section Heights --- */
    --section-height-small: 12rem;
    --section-height-medium: 20rem;
    --section-height-large: 28rem;

    @media screen and (min-width: 40em) {
      --section-height-small: 35svh;
      --section-height-medium: 50svh;
      --section-height-large: 65svh;
    }

    @media screen and (min-width: 60em) {
      --section-height-small: 45svh;
      --section-height-medium: 60svh;
      --section-height-large: 75svh;
    }

    /* --- Brand Colors --- */
    --color-bg: #000000;
    --color-bg-rgb: 0 0 0;
    --color-fg: #ffffff;
    --color-fg-rgb: 255 255 255;
    --color-accent: {{ settings.accent_color | default: '#ff3131' }};
    --color-accent-rgb: 255 49 49;
    --color-surface: #1a1a1a;
    --color-surface-rgb: 26 26 26;
    --color-surface-light: #2a2a2a;
    --color-muted: #888888;
    --color-muted-rgb: 136 136 136;

    /* Extended palette */
    --color-error: #8B0000;
    --color-success: #006400;
    --color-white: #ffffff;
    --color-white-rgb: 255 255 255;
    --color-black: #000000;
    --color-instock: #3ED660;
    --color-lowstock: #EE9441;
    --color-outofstock: #C8C8C8;

    /* Foreground + Background (Shopify compat) */
    --color-background: var(--color-bg);
    --color-background-rgb: var(--color-bg-rgb);
    --color-foreground: var(--color-fg);
    --color-foreground-rgb: var(--color-fg-rgb);
    --color-foreground-heading: var(--color-fg);
    --color-foreground-heading-rgb: var(--color-fg-rgb);
    --color-border: rgb(var(--color-fg-rgb) / 0.15);
    --color-border-rgb: var(--color-fg-rgb);
    --color-shadow: rgb(0 0 0 / 1.0);
    --color-shadow-rgb: 0 0 0;

    /* --- Neon Glow System --- */
    --glow-accent: 0 0 10px var(--color-accent), 0 0 20px var(--color-accent), 0 0 40px var(--color-accent);
    --glow-accent-soft: 0 0 5px var(--color-accent), 0 0 10px var(--color-accent);
    --glow-accent-text: 0 0 7px var(--color-accent), 0 0 15px var(--color-accent);

    /* --- Opacity Scale --- */
    --opacity-5: 0.05;
    --opacity-8: 0.08;
    --opacity-10: 0.1;
    --opacity-15: 0.15;
    --opacity-20: 0.2;
    --opacity-25: 0.25;
    --opacity-30: 0.3;
    --opacity-40: 0.4;
    --opacity-50: 0.5;
    --opacity-60: 0.6;
    --opacity-70: 0.7;
    --opacity-80: 0.8;
    --opacity-85: 0.85;
    --opacity-90: 0.9;
    --opacity-subdued-text: var(--opacity-70);

    /* --- Font Families --- */
    --font-body--family: {{ settings.type_primary_font.family }}, {{ settings.type_primary_font.fallback_families }};
    --font-body--style: {{ settings.type_primary_font.style }};
    --font-body--weight: {{ settings.type_primary_font.weight }};
    --font-heading--family: Impact, 'Arial Black', 'Haettenschweiler', sans-serif;
    --font-heading--style: normal;
    --font-heading--weight: 700;
    --font-subheading--family: var(--font-heading--family);
    --font-subheading--style: normal;
    --font-subheading--weight: 600;
    --font-accent--family: var(--font-heading--family);
    --font-accent--style: normal;
    --font-accent--weight: 400;

    /* Legacy compat */
    --font-primary--family: var(--font-body--family);
    --font-primary--style: var(--font-body--style);
    --font-primary--weight: var(--font-body--weight);

    /* --- Letter Spacing / Tracking --- */
    --letter-spacing-sm: 0.06em;
    --letter-spacing-md: 0.13em;
    --letter-spacing--display-tight: -0.03em;
    --letter-spacing--display-normal: 0em;
    --letter-spacing--display-loose: 0.03em;
    --letter-spacing--heading-tight: -0.03em;
    --letter-spacing--heading-normal: 0em;
    --letter-spacing--heading-loose: 0.03em;
    --letter-spacing--body-tight: -0.03em;
    --letter-spacing--body-normal: 0em;
    --letter-spacing--body-loose: 0.03em;

    /* --- Line Height / Leading --- */
    --line-height: 1;
    --line-height--display-tight: 1;
    --line-height--display-normal: 1.1;
    --line-height--display-loose: 1.2;
    --line-height--heading-tight: 1.15;
    --line-height--heading-normal: 1.25;
    --line-height--heading-loose: 1.35;
    --line-height--body-tight: 1.2;
    --line-height--body-normal: 1.4;
    --line-height--body-loose: 1.6;

    /* --- Typography Presets (Per-Heading) --- */
    --font-size--paragraph: 0.875rem;
    --font-size--h1: 2.0rem;
    --font-size--h2: 1.5rem;
    --font-size--h3: 1.125rem;
    --font-size--h4: 1.125rem;
    --font-size--h5: 0.875rem;
    --font-size--h6: 0.75rem;

    --font-paragraph--weight: var(--font-body--weight);
    --font-paragraph--letter-spacing: var(--letter-spacing--body-normal);
    --font-paragraph--size: var(--font-size--paragraph);
    --font-paragraph--family: var(--font-body--family);
    --font-paragraph--style: var(--font-body--style);
    --font-paragraph--case: ;
    --font-paragraph--line-height: var(--line-height--body-loose);
    --font-paragraph--spacing: 0.5em;

    --font-h1--weight: var(--font-heading--weight);
    --font-h1--letter-spacing: var(--letter-spacing--heading-normal);
    --font-h1--size: var(--font-size--h1);
    --font-h1--family: var(--font-heading--family);
    --font-h1--style: var(--font-heading--style);
    --font-h1--case: uppercase;
    --font-h1--line-height: var(--line-height--display-tight);
    --font-h1--color: var(--color-foreground-heading);
    --font-h1--spacing: 0.25em;

    --font-h2--weight: var(--font-heading--weight);
    --font-h2--letter-spacing: var(--letter-spacing--heading-loose);
    --font-h2--size: var(--font-size--h2);
    --font-h2--family: var(--font-heading--family);
    --font-h2--style: var(--font-heading--style);
    --font-h2--case: uppercase;
    --font-h2--line-height: var(--line-height--display-tight);
    --font-h2--color: var(--color-foreground-heading);
    --font-h2--spacing: 0.25em;

    --font-h3--weight: var(--font-heading--weight);
    --font-h3--letter-spacing: var(--letter-spacing--heading-normal);
    --font-h3--size: var(--font-size--h3);
    --font-h3--family: var(--font-heading--family);
    --font-h3--style: var(--font-heading--style);
    --font-h3--case: uppercase;
    --font-h3--line-height: var(--line-height--display-normal);
    --font-h3--color: var(--color-foreground-heading);
    --font-h3--spacing: 0.25em;

    --font-h4--weight: var(--font-body--weight);
    --font-h4--letter-spacing: var(--letter-spacing--heading-normal);
    --font-h4--size: var(--font-size--h4);
    --font-h4--family: var(--font-body--family);
    --font-h4--style: var(--font-body--style);
    --font-h4--case: none;
    --font-h4--line-height: var(--line-height--display-tight);
    --font-h4--color: var(--color-foreground-heading);
    --font-h4--spacing: 0.25em;

    --font-h5--weight: var(--font-body--weight);
    --font-h5--letter-spacing: var(--letter-spacing--heading-normal);
    --font-h5--size: var(--font-size--h5);
    --font-h5--family: var(--font-body--family);
    --font-h5--style: var(--font-body--style);
    --font-h5--case: none;
    --font-h5--line-height: var(--line-height--display-loose);
    --font-h5--color: var(--color-foreground-heading);
    --font-h5--spacing: 0.25em;

    --font-h6--weight: var(--font-body--weight);
    --font-h6--letter-spacing: var(--letter-spacing--heading-normal);
    --font-h6--size: var(--font-size--h6);
    --font-h6--family: var(--font-body--family);
    --font-h6--style: var(--font-body--style);
    --font-h6--case: none;
    --font-h6--line-height: var(--line-height--display-loose);
    --font-h6--color: var(--color-foreground-heading);
    --font-h6--spacing: 0.25em;

    /* Hardcoded font sizes */
    --font-size--2xs: 0.625rem;
    --font-size--xs: 0.8125rem;
    --font-size--sm: 0.875rem;
    --font-size--md: 1rem;
    --font-size--lg: 1.125rem;
    --font-size--xl: 1.25rem;
    --font-size--2xl: 1.5rem;
    --font-size--3xl: 2rem;
    --font-size--4xl: 2.5rem;
    --font-size--5xl: 3rem;
    --font-size--6xl: 3.5rem;

    /* Menu font sizes */
    --menu-font-sm--size: 0.875rem;
    --menu-font-md--size: 1rem;
    --menu-font-lg--size: 1.125rem;
    --menu-font-xl--size: 1.25rem;
    --menu-font-2xl--size: 1.75rem;

    /* --- Z-Index / Layering --- */
    --layer-section-background: -2;
    --layer-lowest: -1;
    --layer-base: 0;
    --layer-flat: 1;
    --layer-raised: 2;
    --layer-heightened: 4;
    --layer-sticky: 8;
    --layer-window-overlay: 10;
    --layer-header-menu: 12;
    --layer-overlay: 16;
    --layer-menu-drawer: 18;
    --layer-temporary: 20;
    --layer-sidebar: 100;
    --layer-mobile-header: 150;
    --layer-mobile-sidebar: 200;
    --layer-cart-drawer-overlay: 300;
    --layer-cart-drawer: 301;
    --layer-popup: 400;
    --layer-preloader: 9999;

    /* --- Max-width / Measure --- */
    --max-width--body-normal: 50ch;
    --max-width--body-narrow: 35ch;
    --max-width--heading-normal: 50ch;
    --max-width--heading-narrow: 30ch;
    --max-width--display-normal: 20ch;
    --max-width--display-narrow: 15ch;

    /* --- Spacing Scale --- */
    --margin-3xs: 0.125rem;
    --margin-2xs: 0.3rem;
    --margin-xs: 0.5rem;
    --margin-sm: 0.7rem;
    --margin-md: 0.8rem;
    --margin-lg: 1rem;
    --margin-xl: 1.25rem;
    --margin-2xl: 1.5rem;
    --margin-3xl: 1.75rem;
    --margin-4xl: 2rem;
    --margin-5xl: 3rem;
    --margin-6xl: 5rem;

    --padding-3xs: 0.125rem;
    --padding-2xs: 0.25rem;
    --padding-xs: 0.5rem;
    --padding-sm: 0.7rem;
    --padding-md: 0.8rem;
    --padding-lg: 1rem;
    --padding-xl: 1.25rem;
    --padding-2xl: 1.5rem;
    --padding-3xl: 1.75rem;
    --padding-4xl: 2rem;
    --padding-5xl: 3rem;
    --padding-6xl: 4rem;

    --gap-3xs: 0.125rem;
    --gap-2xs: 0.3rem;
    --gap-xs: 0.5rem;
    --gap-sm: 0.7rem;
    --gap-md: 0.9rem;
    --gap-lg: 1rem;
    --gap-xl: 1.25rem;
    --gap-2xl: 2rem;
    --gap-3xl: 3rem;

    --scroll-margin: 50px;

    /* --- Borders --- */
    --style-border-width: 1px;
    --style-border-radius-xs: 0.2rem;
    --style-border-radius-sm: 0.6rem;
    --style-border-radius-md: 0.8rem;
    --style-border-radius-50: 50%;
    --style-border-radius-lg: 1rem;
    --style-border-radius-pills: 0px;
    --style-border-radius-inputs: {{ settings.input_corner_radius | default: 0 }}px;
    --style-border-radius-buttons-primary: 0px;
    --style-border-radius-buttons-secondary: 0px;
    --style-border-width-primary: 1px;
    --style-border-width-secondary: 1px;
    --style-border-width-inputs: 1px;
    --style-border-radius-popover: 0px;

    /* --- Shadows --- */
    --shadow-button: 0 2px 3px rgb(0 0 0 / 20%);
    --shadow-drawer: 0px 4px 20px rgb(var(--color-shadow-rgb) / var(--opacity-15));
    --shadow-popover: 0px 4px 20px rgb(var(--color-shadow-rgb) / var(--opacity-15));
    --shadow-blur: 20px;
    --gradient-image-overlay: linear-gradient(to top, rgb(0 0 0 / 0.5), transparent);

    /* --- Animation System --- */
    --ease-out-cubic: cubic-bezier(0.33, 1, 0.68, 1);
    --ease-out-quad: cubic-bezier(0.32, 0.72, 0, 1);
    --animation-speed-fast: 0.0625s;
    --animation-speed: 0.125s;
    --animation-speed-slow: 0.2s;
    --animation-speed-medium: 0.15s;
    --animation-easing: ease-in-out;
    --drawer-animation-speed: 0.3s;
    --animation-timing-hover: cubic-bezier(0.25, 0.46, 0.45, 0.94);
    --animation-timing-active: cubic-bezier(0.5, 0, 0.75, 0);
    --animation-timing-bounce: cubic-bezier(0.34, 1.56, 0.64, 1);
    --animation-timing-default: cubic-bezier(0, 0, 0.2, 1);
    --animation-timing-fade-in: cubic-bezier(0.16, 1, 0.3, 1);
    --animation-timing-fade-out: cubic-bezier(0.4, 0, 0.2, 1);
    --animation-values-slow: var(--animation-speed-slow) var(--animation-easing);
    --animation-values: var(--animation-speed) var(--animation-easing);
    --animation-values-fast: var(--animation-speed-fast) var(--animation-easing);

    /* --- Focus --- */
    --focus-outline-width: 0.09375rem;
    --focus-outline-offset: 0.2em;

    /* --- Icons --- */
    --icon-size-2xs: 0.6rem;
    --icon-size-xs: 0.85rem;
    --icon-size-sm: 1.25rem;
    --icon-size-md: 1.375rem;
    --icon-size-lg: 1.5rem;
    --icon-stroke-width: 1px;

    /* --- Inputs --- */
    --input-padding-y: 0.8rem;
    --input-padding-x: 0.8rem;
    --input-padding: var(--input-padding-y) var(--input-padding-x);
    --input-box-shadow-width: var(--style-border-width-inputs);
    --input-box-shadow: 0 0 0 var(--input-box-shadow-width) rgb(var(--color-fg-rgb) / var(--opacity-15));
    --input-box-shadow-focus: 0 0 0 calc(var(--input-box-shadow-width) + 0.5px) var(--color-accent);
    --input-disabled-background-color: rgb(var(--color-fg-rgb) / var(--opacity-10));
    --input-disabled-border-color: rgb(var(--color-fg-rgb) / var(--opacity-5));
    --input-disabled-text-color: rgb(var(--color-fg-rgb) / var(--opacity-50));

    /* --- Button System --- */
    --button-size-sm: 30px;
    --button-size-md: 36px;
    --button-size: 44px;
    --button-padding-inline: 24px;
    --button-padding-block: 16px;
    --button-font-family-primary: var(--font-heading--family);
    --button-font-family-secondary: var(--font-body--family);
    --button-font-weight-primary: 700;
    --button-text-case: uppercase;
    --minimum-touch-target: 44px;

    /* Primary button colors */
    --color-primary-button-text: #ffffff;
    --color-primary-button-background: var(--color-accent);
    --color-primary-button-border: var(--color-accent);
    --color-primary-button-hover-text: #ffffff;
    --color-primary-button-hover-background: #e02828;
    --color-primary-button-hover-border: #e02828;

    /* Secondary button colors */
    --color-secondary-button-text: var(--color-fg);
    --color-secondary-button-background: transparent;
    --color-secondary-button-border: var(--color-fg);
    --color-secondary-button-hover-text: var(--color-bg);
    --color-secondary-button-hover-background: var(--color-fg);
    --color-secondary-button-hover-border: var(--color-fg);

    /* Input colors */
    --color-input-background: rgb(var(--color-fg-rgb) / 0.05);
    --color-input-text: var(--color-fg);
    --color-input-text-rgb: var(--color-fg-rgb);
    --color-input-border: rgb(var(--color-fg-rgb) / 0.15);
    --color-input-hover-background: rgb(var(--color-fg-rgb) / 0.08);

    /* Variant Picker */
    --color-variant-background: var(--color-surface);
    --color-variant-border: var(--color-surface-light);
    --color-variant-text: var(--color-fg);
    --color-variant-text-rgb: var(--color-fg-rgb);
    --color-variant-hover-background: var(--color-surface-light);
    --color-variant-hover-text: var(--color-fg);
    --color-variant-hover-border: var(--color-surface-light);
    --color-selected-variant-background: var(--color-accent);
    --color-selected-variant-border: var(--color-accent);
    --color-selected-variant-text: #ffffff;
    --color-selected-variant-hover-background: #e02828;
    --color-selected-variant-hover-text: #ffffff;
    --color-selected-variant-hover-border: #e02828;

    --variant-picker-swatch-width: 16px;
    --variant-picker-swatch-height: 16px;
    --variant-picker-swatch-radius: 0px;
    --variant-picker-border-width: 1px;
    --variant-picker-border-style: solid;
    --variant-picker-border-opacity: 15%;
    --variant-picker-button-radius: 0px;
    --variant-picker-button-border-width: 1px;

    /* --- Drawers --- */
    --drawer-inline-padding: 24px;
    --drawer-header-block-padding: 20px;
    --drawer-content-block-padding: 10px;
    --drawer-height: 100dvh;
    --drawer-width: 420px;
    --drawer-max-width: 90vw;

    /* --- Badges --- */
    --badge-rectangle-padding-block: 4px;
    --badge-rectangle-padding-inline: 10px;

    /* --- Card Styles --- */
    --card-bg-hover: rgb(var(--color-fg-rgb) / var(--opacity-5));
    --card-border-hover: rgb(var(--color-fg-rgb) / var(--opacity-30));
    --card-border-focus: rgb(var(--color-fg-rgb) / var(--opacity-10));
    --height-buy-buttons: calc(var(--padding-lg) * 2 + var(--icon-size-sm));

    /* Card image height variables */
    --height-small: 10rem;
    --height-medium: 11.5rem;
    --height-large: 13rem;
    --height-full: 100vh;

    @media screen and (min-width: 750px) {
      --height-small: 17.5rem;
      --height-medium: 21.25rem;
      --height-large: 25rem;
    }

    /* --- Utilities --- */
    --backdrop-opacity: 0.6;
    --backdrop-color-rgb: var(--color-shadow-rgb);
    --disabled-opacity: 0.5;

    /* --- Shipping --- */
    --free-shipping-threshold: {{ settings.free_shipping_threshold | default: 150 }};

    /* Muted foreground helper */
    --color-foreground-muted: rgb(var(--color-fg-rgb) / var(--opacity-60));
  }
{% endstyle %}
